<!DOCTYPE html>
<html  prefix="dcat: http://www.w3.org/ns/dcat#
dqv: http://www.w3.org/ns/dqv#dct: http://purl.org/dc/terms/"  lang="en">
  <head>
    <meta  content="text/html; charset=utf-8"  http-equiv="content-type">
    <title>DWBP - Example API Documentation</title>
    <meta  content="width=device-width,initial-scale=1"  name="viewport">
    <style  type="text/css">
   .container {
    font-family: sans-serif;
    max-width: 968px;
    margin: 0 auto;
  }

  .human-readable-example {
    background-color: transparent;
    border-collapse: collapse;
    border-spacing: 0px;
    color: #333;
    width: 100%;
  }

  .human-readable-example td {
    padding: 6px 3px 6px 3px;
    letter-spacing: all;
  }

  .human-readable-example tr:first-child td:first-child {
    width: 25%;
  }

  .human-readable-example tr:nth-child(even) {
    background-color: #F7F7F7;
  }


  .human-readable-example tr:nth-child(odd) {
    background-color: #FFFFFF;
  }
  div.example {
    padding: 0.5em;
    border-left: 0.5em solid #E0CB52;
    border-color: #E0CB52;
    background: none repeat scroll 0% 0% #FCFAEE;
  }
  a {
    color: #00C;
    text-decoration: none;
  }
  a[href]:hover {
    background: none repeat scroll 0% 0% #FFA;
  }
  h2 {
    font-size: 18px;
  }
  h3 {
    font-size: 16px;
  }
  section pre {
    background: #EAEAEA;
    line-height: 16px;
    padding: 6px;
    border: 1px solid #DDD;
  }
  section code {
    font-size: 14px;
  }
</style>
  </head>
  <body>
    <div  class="container">
      <h1>DWBP API Documentation</h1>
<!--       <section  id="abstract">
        <p>This page show the example of an API documentation. <a  href="http://w3.org/TR/dwbp/"><abbr title="Data on the Web Best Practices">DWBP document</abbr></a>.</p>
      </section> -->
      <section>
        <p>API URL: <code>http://data.mycity.example.com/transport/api/</code></p>

        <h2>List all bus routes</h2>
        <code>GET /bus/routes</code>
        <h3>Parameters</h3>
        <table class="human-readable-example">
          <thead>
            <tr>
              <th>Name</th>
              <th>Type</th>
              <th>Optional</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>transport-agency</td>
              <td>string</td>
              <td>optional</td>
              <td>If provided, retrieves data only for the given transport agency</td>
            </tr>
            <tr>
              <td>full-details</td>
              <td>boolean</td>
              <td>optional</td>
              <td>If set to true, all details for each route is returned. Default is false</td>
            </tr>
          </tbody>
        </table>

        <h3>Example</h3>
        <code>http://data.mycity.example.com/transport/api/bus/routes?transport-agency=DTA&full-details=false</code>

        <h3>Response</h3>
<pre>
{
  "results": {"transport-agency": "http://data.mycity.example.com/transport-agency/DTA",
    "routes":[
      {"id":"1", "uri": "http://data.mycity.example.com/transport/road/bus/route/id/1"},
      {"id":"3", "uri": "http://data.mycity.example.com/transport/road/bus/route/id/3"},
      {"id":"5", "uri": "http://data.mycity.example.com/transport/road/bus/route/id/5"},
      {"id":"8", "uri": "http://data.mycity.example.com/transport/road/bus/route/id/8"},
      {"id":"10", "uri": "http://data.mycity.example.com/transport/road/bus/route/id/10"},
      {"id":"12a", "uri": "http://data.mycity.example.com/transport/road/bus/route/id/12a"}
    ]
  }
}
</pre>
</section>
<section>
      <h2>List all bus stops</h2>
      <code>GET /bus/stops</code>

      <h3>Parameters</h3>
      <table class="human-readable-example">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Optional</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>transport-agency</td>
            <td>string</td>
            <td>optional</td>
            <td>If provided, retrieves data only for the given transport agency</td>
          </tr>
          <tr>
            <td>route </td>
            <td>string</td>
            <td>optional</td>
            <td>If provided, retrieves data only for the given route</td>
          </tr>
          <tr>
            <td>full-details</td>
            <td>boolean</td>
            <td>optional</td>
            <td>If set to true, all details for each stop is returned. Default is false</td>
          </tr>
        </tbody>
      </table>

      <h3>Example</h3>
      <code>http://data.mycity.example.com/transport/api/bus/stops?transport-agency=DTA&route=5&full-details=true</code>

      <h3>Response</h3>
      <p>Three different ways to describe stops:</p>
      <ul>
        <li>using simple fields</li>
        <li>using fields defined in <a href="./dwbp-example.html">dwbp-example.html</a></li>
        <li>using geojson.</li>
      </ul>

<pre>{
  "results": {"transport-agency": "http://data.mycity.example.com/transport-agency/DTA",
    "route": "http://data.mycity.example.com/transport/road/bus/route/id/5",
    "stops":[
      {"id":"345",
      "uri": "http://data.mycity.example.com/transport/road/bus/stop/id/345",
      "name": "Castle Avenue, Sunset Drive",
      "description": "Castle Avenue, Sunset Drive",
      "latitude": "-3.731862",
      "longitude": "-38.526670",
      "zone_id": "x20"
      },
      {"stop_id":"483",
      "stop_uri": "http://data.mycity.example.com/transport/road/bus/stop/id/483",
      "stop_name": "Main Street, Lily Park",
      "stop_desc": "Main Street, Lily Park",
      "stop_lat": "-3.731541",
      "stop_long": "-38.535157",
      "zone_id": "x20"
      },
      {"id":"541",
      "uri": "http://data.mycity.example.com/transport/road/bus/stop/id/541",
      "name": "West Avenue, Beech Road",
      "desc": "West Avenue, Beech Road",
      "location": { "type": "Point",
        "coordinates": [-38.514354, -3.734957] },
      "zone_id": "x22"
      }
    ]
  }
}</pre>
      </section>

      <section>
        <h2>Get real-time info for bus stop</h2>
        <code>GET /bus/realtime/{stopid}</code>

        <h3>Parameters</h3>
        <table class="human-readable-example">
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Optional</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>full-details</td>
            <td>boolean</td>
            <td>optional</td>
            <td>If set to true, all details for each stop is returned. Default is false </td>
          </tr>
          <tr>
            <td>transport-agency</td>
            <td>string</td>
            <td>optional</td>
            <td>If provided, retrieves data only for the given transport agency</td>
          </tr>
          <tr>
            <td>route </td>
            <td>string</td>
            <td>optional</td>
            <td>If provided, retrieves data only for the given route</td>
          </tr>
        </table>

<!-- stop - string - mandatory, retrieves real-time information for given stop.
full-details - boolean - optional, if set to true, all details for each stop is return. Default is false
transport agency - string - optional, if provided retrieves data only for given transport agency.
route - string - optional, if provided retrieves data only for given route. -->

        <h3>Example</h3>
        <code>http://data.mycity.example.com/transport/api/bus/realtime/345</code>

        <h3>Response</h3>
<pre>{
  "results": {"id":"345",
    "uri":"http://data.mycity.example.com/transport/road/bus/stop/id/345",
    "timestamp":"2016-05-03T13:54:16Z",
    "realtime":[
      {"transport-agency": "http://data.mycity.example.com/transport-agency/DTA",
      "route": "http://data.mycity.example.com/transport/road/bus/route/id/5",
      "duetime":"2016-05-03T14:00Z"
      },
      {"transport-agency": "http://data.mycity.example.com/transport-agency/ABC",
      "route": "http://data.mycity.example.com/transport/road/bus/route/id/8",
      "duetime":"2016-05-03T14:03Z"
      },
      {"transport-agency": "http://data.mycity.example.com/transport-agency/ABC",
      "route": "http://data.mycity.example.com/transport/road/bus/route/id/12a",
      "duetime":"2016-05-03T14:05Z"
      },
      {"transport-agency": "http://data.mycity.example.com/transport-agency/DTA",
      "route": "http://data.mycity.example.com/transport/road/bus/route/id/5",
      "duetime":"2016-05-03T14:06Z"
      }
    ]
  }
}
</pre>
      </section>
    </div>
  </body>
</html>
